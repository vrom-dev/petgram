(self.webpackChunkpetgram=self.webpackChunkpetgram||[]).push([[376],{7546:(e,n,t)=>{"use strict";t.d(n,{A:()=>d});var i,r=t(7294),o=t(4593),a=t(2465),l=t(9163).ZP.div(i||(i=(0,a.Z)(["\n  padding: 16px;\n"]))),d=function(e){var n=e.children,t=e.title,i=e.subtitle;return r.createElement(r.Fragment,null,r.createElement(o.q,null,t&&r.createElement("title",null,t," | Petgram üê∂"),i&&r.createElement("meta",{name:"description",content:i})),r.createElement(l,null,n))}},4465:(e,n,t)=>{"use strict";t.d(n,{x:()=>P});var i,r,o,a,l,d=t(3391),u=t(7294),c=t(3727),s=t(5697),p=t.n(s),m=t(2465),v=t(9163),g=t(1685),f=v.ZP.article(i||(i=(0,m.Z)(["\n  min-height: 200px;\n"]))),h=v.ZP.div(r||(r=(0,m.Z)(["\n  border-radius: 10px;\n  display: block;\n  height: 0;\n  overflow: hidden;\n  padding: 56.25% 0 0 0;\n  position: relative;\n  width: 100%;\n"]))),k=v.ZP.img(o||(o=(0,m.Z)(["\n  ","\n  box-shadow: 0 10px 14px rgba(0,0,0, .2);\n  height: 100%;\n  object-fit: cover;\n  position: absolute;\n  top:0;\n  width: 100%;\n"])),(0,g.J)({time:"1s"})),b=t(6829),E=(0,t(2527).ZP)(a||(a=(0,m.Z)(["\nmutation likePhoto($input: LikePhoto!) {\n    likePhoto(input: $input) {\n      id,\n      liked,\n      likes\n    }\n  }\n"]))),Z=v.ZP.button(l||(l=(0,m.Z)(["\npadding: 8px;\ndisplay: flex;\nalign-items: center;\npadding-top: 8px;\n& svg {\n  margin-right: 4px;\n}\n"]))),w=t(4098),x=function(e){var n=e.liked,t=e.likes,i=e.onClick,r=n?w.Yqy:w.iqB;return u.createElement(Z,{onClick:i},u.createElement(r,{size:"32px"})," ",t," likes!")};x.propTypes={liked:p().bool.isRequired,likes:p().number.isRequired,onClick:p().func.isRequired};var P=function(e){var n=e.id,i=e.liked,r=e.likes,o=void 0===r?0:r,a=e.src,l=void 0===a?"https://images.unsplash.com/photo-1518791841217-8f162f1e1131?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60":a,s=function(){var e=(0,u.useRef)(null),n=(0,u.useState)(!1),i=(0,d.Z)(n,2),r=i[0],o=i[1];return(0,u.useEffect)((function(){Promise.resolve(void 0!==window.IntersectionObserver?window.IntersectionObserver:t.e(337).then(t.t.bind(t,6337,23))).then((function(){var n=new window.IntersectionObserver((function(e){e[0].isIntersecting&&(o(!0),n.disconnect())}));n.observe(e.current)}))}),[e]),[r,e]}(),p=(0,d.Z)(s,2),m=p[0],v=p[1],g=function(){var e=(0,b.useMutation)(E),n=(0,d.Z)(e,2),t=n[0],i=n[1];return{mutation:t,mutationLoading:i.loading,mutationError:i.error}}().mutation;return u.createElement(f,{ref:v},m&&u.createElement(u.Fragment,null,u.createElement(c.rU,{to:"/pet/".concat(n)},u.createElement(h,null,u.createElement(k,{src:l}))),u.createElement(x,{liked:i,likes:o,onClick:function(){g({variables:{input:{id:n}}})}})))};P.propTypes={id:p().string.isRequired,liked:p().bool.isRequired,src:p().string.isRequired,likes:function(e,n,t){var i=e[n];return void 0===i?new Error("".concat(n," value must be defined")):i<0?new Error("".concat(n," value must be greater than 0")):void 0}}},7376:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>p});var i,r=t(7294),o=t(7546),a=t(5977),l=t(4465),d=t(2465),u=t(6829),c=t(2527),s=function(){var e,n,t,o=(e=(0,a.UO)().id,n=(0,c.ZP)(i||(i=(0,d.Z)(["\n  query getSinglePhoto($id: ID!) {\n    photo(id: $id) {\n      id\n      categoryId\n      src\n      likes\n      liked\n      userId\n    }\n  }\n"]))),{loading:(t=(0,u.useQuery)(n,{variables:{id:e}})).loading,error:t.error,data:t.data}),s=o.loading,p=o.data;return o.error?r.createElement("p",null,"Internal Server Error"):s?r.createElement("p",null,"Loading..."):r.createElement(l.x,p.photo)};const p=function(){var e=(0,a.UO)().id;return r.createElement(o.A,{title:"Fotograf√≠a ".concat(e)},r.createElement(s,null))}}}]);