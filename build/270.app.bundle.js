(self.webpackChunkpetgram=self.webpackChunkpetgram||[]).push([[270],{7546:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r,i=t(7294),o=t(4593),a=t(2465),l=t(9163).ZP.div(r||(r=(0,a.Z)(["\n  padding: 16px;\n"]))),s=function(e){var n=e.children,t=e.title,r=e.subtitle;return i.createElement(i.Fragment,null,i.createElement(o.q,null,t&&i.createElement("title",null,t," | Petgram üê∂"),r&&i.createElement("meta",{name:"description",content:r})),i.createElement(l,null,n))}},4465:(e,n,t)=>{"use strict";t.d(n,{x:()=>y});var r,i,o,a,l,s=t(3391),u=t(7294),c=t(3727),d=t(5697),m=t.n(d),p=t(2465),g=t(9163),v=t(1685),f=g.ZP.article(r||(r=(0,p.Z)(["\n  min-height: 200px;\n"]))),h=g.ZP.div(i||(i=(0,p.Z)(["\n  border-radius: 10px;\n  display: block;\n  height: 0;\n  overflow: hidden;\n  padding: 56.25% 0 0 0;\n  position: relative;\n  width: 100%;\n"]))),k=g.ZP.img(o||(o=(0,p.Z)(["\n  ","\n  box-shadow: 0 10px 14px rgba(0,0,0, .2);\n  height: 100%;\n  object-fit: cover;\n  position: absolute;\n  top:0;\n  width: 100%;\n"])),(0,v.J)({time:"1s"})),b=t(6829),E=(0,t(2527).ZP)(a||(a=(0,p.Z)(["\nmutation likePhoto($input: LikePhoto!) {\n    likePhoto(input: $input) {\n      id,\n      liked,\n      likes\n    }\n  }\n"]))),Z=g.ZP.button(l||(l=(0,p.Z)(["\npadding: 8px;\ndisplay: flex;\nalign-items: center;\npadding-top: 8px;\n& svg {\n  margin-right: 4px;\n}\n"]))),w=t(4098),x=function(e){var n=e.liked,t=e.likes,r=e.onClick,i=n?w.Yqy:w.iqB;return u.createElement(Z,{onClick:r},u.createElement(i,{size:"32px"})," ",t," likes!")};x.propTypes={liked:m().bool.isRequired,likes:m().number.isRequired,onClick:m().func.isRequired};var y=function(e){var n=e.id,r=e.liked,i=e.likes,o=void 0===i?0:i,a=e.src,l=void 0===a?"https://images.unsplash.com/photo-1518791841217-8f162f1e1131?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60":a,d=function(){var e=(0,u.useRef)(null),n=(0,u.useState)(!1),r=(0,s.Z)(n,2),i=r[0],o=r[1];return(0,u.useEffect)((function(){Promise.resolve(void 0!==window.IntersectionObserver?window.IntersectionObserver:t.e(337).then(t.t.bind(t,6337,23))).then((function(){var n=new window.IntersectionObserver((function(e){e[0].isIntersecting&&(o(!0),n.disconnect())}));n.observe(e.current)}))}),[e]),[i,e]}(),m=(0,s.Z)(d,2),p=m[0],g=m[1],v=function(){var e=(0,b.useMutation)(E),n=(0,s.Z)(e,2),t=n[0],r=n[1];return{mutation:t,mutationLoading:r.loading,mutationError:r.error}}().mutation;return u.createElement(f,{ref:g},p&&u.createElement(u.Fragment,null,u.createElement(c.rU,{to:"/pet/".concat(n)},u.createElement(h,null,u.createElement(k,{src:l}))),u.createElement(x,{liked:r,likes:o,onClick:function(){v({variables:{input:{id:n}}})}})))};y.propTypes={id:m().string.isRequired,liked:m().bool.isRequired,src:m().string.isRequired,likes:function(e,n,t){var r=e[n];return void 0===r?new Error("".concat(n," value must be defined")):r<0?new Error("".concat(n," value must be greater than 0")):void 0}}},270:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>p});var r,i=t(7294),o=t(7546),a=t(2122),l=t(5977),s=t(4465),u=t(2465),c=t(6829),d=t(2527),m=function(){var e,n,t,o=(e=(0,l.UO)().id,n=(0,d.ZP)(r||(r=(0,u.Z)(["\n    query getPhotos($categoryId: ID) {\n      photos (categoryId: $categoryId){\n        id\n        categoryId\n        src\n        likes\n        liked\n        userId \n      }\n    }"]))),{loading:(t=(0,c.useQuery)(n,{variables:{categoryId:e}})).loading,error:t.error,data:t.data}),m=o.loading,p=o.data;return o.error?i.createElement("p",null,"Internal Server Error"):m?i.createElement("p",null,"Loading..."):i.createElement("ul",null,p.photos.map((function(e){return i.createElement(s.x,(0,a.Z)({key:e.id},e))})))};const p=function(){return i.createElement(o.A,{title:"Tu app de fotos de mascotas",subtitle:"Con Petgram puedes encontrar fotos de tus animales dom√©ticos favoritos"},i.createElement(m,null))}}}]);